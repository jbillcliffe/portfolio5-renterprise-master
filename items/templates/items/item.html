{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_css %}
{% endblock extra_css %}

{% block extra_title %}{% blocktrans %}View An Item{% endblocktrans %}{% endblock extra_title %}

<!-- Creating the form for Profiles allowing a user to update their details -->
{% block content %}
    <div class="app-container">
        <hr>
            <h1>View Item {{ item_serial }}</h1>
        <hr>
        <div class="row">
            <div class="col-12 col-lg-3 col-xxl-4 pb-3">
                <img class="item-image img-fluid border border-2 border-{{ image_border }} rounded"
                    src={% if not item_image %}"{% static 'images/default.webp' %}"{% else %}"{{ item_image.url }}"{% endif %}
                    alt={% if not item_image %}"default no image"{% else %}"{{ item_type_name }}"{% endif %}>
            </div>
            <div class="col-12 col-lg-9 col-xxl-8">
                <form id="item_view_form" action="{% url 'item_view' item_id %}" 
                      class="row floating-labels-form m-0" method="post" id="item_update">

                    {% crispy item_type_form item_type_form.helper %}
                    {% crispy item_form item_form.helper %}
                    
                </form>
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="floatingInput" placeholder="Income (£)" value={{ item_income }} disabled>
                    <label for="floatingInput">Income (£)*</label>
                </div>
                <div class="row flex-column-reverse flex-md-row m-0">
                    <a class="col-12 col-md-5 not-submit no-decoration mb-3 me-1" 
                        href="{% url 'item_list' %}">
                        {% trans "Return To Item List" %}
                    </a>
                    <button type="submit" 
                        class="{% if account_type == 'Administrator' %}white-text{% else %}{% endif %}
                        col-12 col-md-5 mb-3"
                        {% if account_type == 'Administrator' %}{% else %}disabled{% endif %}
                        form="item_view_form">{% trans "Update Item" %}
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}